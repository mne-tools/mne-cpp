<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>MNE-CPP: D:/GitHub/mne-cpp/applications/mne_browse_raw_qt/rawmodel.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MNE-CPP
   &#160;<span id="projectnumber">beta 0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a6e4fee11f07c3b70486e88fe92cbbdc.html">applications</a></li><li class="navelem"><a class="el" href="dir_65eb5ee1265c0bdbfc750ac7f32cd8f3.html">mne_browse_raw_qt</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">rawmodel.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="rawmodel_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//=============================================================================================================</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span><span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//=============================================================================================================</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// INCLUDES</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//=============================================================================================================</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rawmodel_8h.html">rawmodel.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//=============================================================================================================</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// USED NAMESPACES</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//=============================================================================================================</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">using namespace </span>MNEBrowseRawQt;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//=============================================================================================================</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">// DEFINE MEMBER METHODS</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">//=============================================================================================================</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;RawModel::RawModel(QObject *parent)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;: QAbstractTableModel(parent)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;, m_bFileloaded(false)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;, m_qSettings()</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;, m_bStartReached(false)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;, m_bEndReached(false)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;, m_bReloading(false)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;, m_bProcessing(false)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    m_iWindowSize = m_qSettings.value(<span class="stringliteral">&quot;RawModel/window_size&quot;</span>).toInt();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    m_reloadPos = m_qSettings.value(<span class="stringliteral">&quot;RawModel/reload_pos&quot;</span>).toInt();</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    m_maxWindows = m_qSettings.value(<span class="stringliteral">&quot;RawModel/max_windows&quot;</span>).toInt();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;RawModel::RawModel(QFile &amp;qFile, QObject *parent)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;: QAbstractTableModel(parent)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;, m_bFileloaded(false)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;, m_qSettings()</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;, m_bStartReached(false)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;, m_bEndReached(false)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;, m_bReloading(false)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;, m_bProcessing(false)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    m_iWindowSize = m_qSettings.value(<span class="stringliteral">&quot;RawModel/window_size&quot;</span>).toInt();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    m_reloadPos = m_qSettings.value(<span class="stringliteral">&quot;RawModel/reload_pos&quot;</span>).toInt();</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    m_maxWindows = m_qSettings.value(<span class="stringliteral">&quot;RawModel/max_windows&quot;</span>).toInt();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    m_iFilterTaps = m_qSettings.value(<span class="stringliteral">&quot;RawModel/num_filter_taps&quot;</span>).toInt();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">//read fiff data</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    loadFiffData(qFile);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">//generator FilterOperator objects</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    genStdFilterOps();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">//connect signal and slots</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    connect(&amp;m_reloadFutureWatcher,&amp;QFutureWatcher&lt;QPair&lt;MatrixXd,MatrixXd&gt; &gt;::finished,[<span class="keyword">this</span>](){</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        insertReloadedData(m_reloadFutureWatcher.future().result());</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    });</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    connect(<span class="keyword">this</span>,&amp;<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a09c224bbafd12914b5acf2842462a08f">RawModel::dataReloaded</a>,[<span class="keyword">this</span>](){</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">if</span>(!m_assignedOperators.empty()) updateOperatorsConcurrently();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    });</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">//    connect(&amp;m_operatorFutureWatcher,&amp;QFutureWatcher&lt;QPair&lt;int,RowVectorXd&gt; &gt;::resultReadyAt,[this](int index){</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">//        insertProcessedData(index);</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">//    });</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    connect(&amp;m_operatorFutureWatcher,&amp;QFutureWatcher&lt;void&gt;::finished,[<span class="keyword">this</span>](){</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        insertProcessedData();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    });</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    connect(&amp;m_operatorFutureWatcher,&amp;QFutureWatcher&lt;QPair&lt;int,RowVectorXd&gt; &gt;::progressValueChanged,[<span class="keyword">this</span>](<span class="keywordtype">int</span> progressValue){</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: ProgressValue m_operatorFutureWatcher, &quot;</span> &lt;&lt; progressValue &lt;&lt; <span class="stringliteral">&quot; items processed out of&quot;</span> &lt;&lt; m_listTmpChData.size();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    });</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">//virtual functions</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keywordtype">int</span> RawModel::rowCount(<span class="keyword">const</span> QModelIndex &amp; <span class="comment">/*parent*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>.empty())</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>.size();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keywordtype">int</span> RawModel::columnCount(<span class="keyword">const</span> QModelIndex &amp; <span class="comment">/*parent*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;QVariant RawModel::data(<span class="keyword">const</span> QModelIndex &amp;index, <span class="keywordtype">int</span> role)<span class="keyword"> const</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span>(role != Qt::DisplayRole &amp;&amp; role != Qt::BackgroundRole)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">return</span> QVariant();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (index.isValid()) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="comment">//******** first column (chname) ********</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span>(index.column()==0 &amp;&amp; role == Qt::DisplayRole)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">return</span> QVariant(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>[index.row()].ch_name);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment">//******** second column (data plot) ********</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">if</span>(index.column()==1) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            QVariant v;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">switch</span>(role) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">case</span> Qt::DisplayRole: {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="comment">//form RowVectorPair of pointer and length of RowVector</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                QPair&lt;const double*,qint32&gt; rowVectorPair;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="comment">//pack all adjacent (after reload) RowVectorPairs into a QList</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                QList&lt;RowVectorPair&gt; listRowVectorPair;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="keywordflow">for</span>(qint16 i=0; i &lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.size(); ++i) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    <span class="comment">//if channel is not filtered or background Processing pending...</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    <span class="keywordflow">if</span>(!<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.contains(index.row()) || (m_bProcessing &amp;&amp; m_bReloadBefore &amp;&amp; i==0) || (m_bProcessing &amp;&amp; !m_bReloadBefore &amp;&amp; i==<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.size()-1)) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        rowVectorPair.first = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>[i].data() + index.row()*<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>[i].cols();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                        rowVectorPair.second  = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>[i].cols();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                    <span class="keywordflow">else</span> { <span class="comment">//if channel IS filtered</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                        rowVectorPair.first = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>[i].data() + index.row()*<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>[i].cols();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                        rowVectorPair.second  = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>[i].cols();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    listRowVectorPair.append(rowVectorPair);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                v.setValue(listRowVectorPair);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">case</span> Qt::BackgroundRole: {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">m_fiffInfo</a>.<a class="code" href="class_f_i_f_f_l_i_b_1_1_fiff_info_base.html#abb2b7b298afe7439c1012962c2a8c43c">bads</a>.contains(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>[index.row()].ch_name)) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    QBrush brush;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    brush.setStyle(Qt::SolidPattern);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">//                    qDebug() &lt;&lt; m_chInfolist[index.row()].ch_name &lt;&lt; &quot;is marked as bad, index:&quot; &lt;&lt; index.row();</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    brush.setColor(Qt::red);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                    <span class="keywordflow">return</span> QVariant(brush);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    <span class="keywordflow">return</span> QVariant();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        } <span class="comment">// end role switch</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    } <span class="comment">// end column check</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    } <span class="comment">// end index.valid() check</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> QVariant();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;QVariant RawModel::headerData(<span class="keywordtype">int</span> section, Qt::Orientation orientation, <span class="keywordtype">int</span> role)<span class="keyword"> const</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span>(role != Qt::DisplayRole &amp;&amp; role != Qt::TextAlignmentRole)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">return</span> QVariant();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span>(orientation == Qt::Horizontal) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">switch</span>(section) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">case</span> 0: <span class="comment">//chname column</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">return</span> QVariant();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">case</span> 1: <span class="comment">//data plot column</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">return</span> QVariant(<span class="stringliteral">&quot;data plot&quot;</span>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keywordflow">switch</span>(role) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">case</span> Qt::DisplayRole:</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <span class="keywordflow">return</span> QVariant(<span class="stringliteral">&quot;data plot&quot;</span>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="keywordflow">case</span> Qt::TextAlignmentRole:</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <span class="keywordflow">return</span> QVariant(Qt::AlignLeft);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(orientation == Qt::Vertical) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        QModelIndex chname = createIndex(section,0);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">switch</span>(role) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">case</span> Qt::DisplayRole:</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">return</span> QVariant(data(chname).toString());</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> QVariant();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="keywordtype">void</span> RawModel::genStdFilterOps()</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">//clear operators</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a1e4833f1c224c28552ab1ae262094b37">m_Operators</a>.clear();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">//regenerate them with the correct sampling frequency (only required for naming of filter)</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordtype">double</span> sfreq = (<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">m_fiffInfo</a>.<a class="code" href="class_f_i_f_f_l_i_b_1_1_fiff_info.html#a963c80bf73b01ed07eb1a31540cf308c">sfreq</a>&gt;=0) ? <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">m_fiffInfo</a>.<a class="code" href="class_f_i_f_f_l_i_b_1_1_fiff_info.html#a963c80bf73b01ed07eb1a31540cf308c">sfreq</a> : 600.0;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordtype">double</span> nyquist_freq = sfreq/2;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">//HPF</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordtype">double</span> cutoffFreqHz = 50; <span class="comment">//in Hz</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    QString name = QString(<span class="stringliteral">&quot;HPF_%1&quot;</span>).arg(cutoffFreqHz);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a1e4833f1c224c28552ab1ae262094b37">m_Operators</a>.insert(name,QSharedPointer&lt;MNEOperator&gt;(<span class="keyword">new</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_filter_operator.html">FilterOperator</a>(name,FilterOperator::HPF,<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a6fc0658eedbf94352c8e418d0777a6c5">m_iFilterTaps</a>,cutoffFreqHz/nyquist_freq,0.2,0.1,(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>+<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a6fc0658eedbf94352c8e418d0777a6c5">m_iFilterTaps</a>))));</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">//LPF</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    cutoffFreqHz = 30; <span class="comment">//in Hz</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    name = QString(<span class="stringliteral">&quot;LPF_%1&quot;</span>).arg(cutoffFreqHz);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a1e4833f1c224c28552ab1ae262094b37">m_Operators</a>.insert(name,QSharedPointer&lt;MNEOperator&gt;(<span class="keyword">new</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_filter_operator.html">FilterOperator</a>(name,FilterOperator::LPF,<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a6fc0658eedbf94352c8e418d0777a6c5">m_iFilterTaps</a>,cutoffFreqHz/nyquist_freq,0.2,0.1,(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>+<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a6fc0658eedbf94352c8e418d0777a6c5">m_iFilterTaps</a>))));</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    cutoffFreqHz = 10; <span class="comment">//in Hz</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    name = QString(<span class="stringliteral">&quot;LPF_%1&quot;</span>).arg(cutoffFreqHz);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a1e4833f1c224c28552ab1ae262094b37">m_Operators</a>.insert(name,QSharedPointer&lt;MNEOperator&gt;(<span class="keyword">new</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_filter_operator.html">FilterOperator</a>(name,FilterOperator::LPF,<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a6fc0658eedbf94352c8e418d0777a6c5">m_iFilterTaps</a>,cutoffFreqHz/nyquist_freq,0.2,0.1,(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>+<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a6fc0658eedbf94352c8e418d0777a6c5">m_iFilterTaps</a>))));</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">//BPF</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordtype">double</span> from_freqHz = 30;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordtype">double</span> to_freqHz = 40;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordtype">double</span> trans_width = 15;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordtype">double</span> bw = to_freqHz/from_freqHz;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordtype">double</span> center = from_freqHz+bw/2;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    name = QString(<span class="stringliteral">&quot;BPF_%1-%2&quot;</span>).arg(from_freqHz).arg(to_freqHz);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a1e4833f1c224c28552ab1ae262094b37">m_Operators</a>.insert(name,QSharedPointer&lt;MNEOperator&gt;(<span class="keyword">new</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_filter_operator.html">FilterOperator</a>(name,FilterOperator::BPF,80,(<span class="keywordtype">double</span>)center/nyquist_freq,(<span class="keywordtype">double</span>)bw/nyquist_freq,(<span class="keywordtype">double</span>)trans_width/nyquist_freq,(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>+<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a6fc0658eedbf94352c8e418d0777a6c5">m_iFilterTaps</a>))));</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">//**********</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">//filter debugging -&gt; store filter coefficients to plain text file</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">//    QFile file(&quot;C:/Users/Flo/Desktop/matlab/filter.txt&quot;);</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">//    file.open(QFile::WriteOnly | QFile::Text);</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">//    QTextStream out(&amp;file);</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">//    QSharedPointer&lt;FilterOperator&gt; filtPtr = m_Operators[name].staticCast&lt;FilterOperator&gt;();</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">//    for(int i=0; i &lt; filtPtr-&gt;m_dCoeffA.cols(); ++i)</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">//        out &lt;&lt; filtPtr-&gt;m_dCoeffA(0,i) &lt;&lt; endl;</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">//    file.close();</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">//**********</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: Standard FilterOperators generated and loaded.&quot;</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a08da0e94d983b510cec0eaff994ba955">  285</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a08da0e94d983b510cec0eaff994ba955">RawModel::loadFiffData</a>(QFile&amp; qFile)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    beginResetModel();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    clearModel();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    MatrixXd t_data,t_times; <span class="comment">//type is later on (when append to m_data) casted into MatrixXdR (Row-Major)</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a> = QSharedPointer&lt;FiffIO&gt;(<span class="keyword">new</span> <a class="code" href="class_f_i_f_f_l_i_b_1_1_fiff_i_o.html">FiffIO</a>(qFile));</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a>-&gt;m_qlistRaw.empty()) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a>-&gt;m_qlistRaw[0]-&gt;first_samp; <span class="comment">//Set cursor somewhere into fiff file [in samples]</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        m_bStartReached = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a>-&gt;m_qlistRaw[0]-&gt;read_raw_segment(t_data, t_times, <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a>, <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a>+<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>-1))</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a405875049e369b002f955403b781aa68">m_bFileloaded</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        qDebug(<span class="stringliteral">&quot;RawModel: ERROR! Data set does not contain any fiff data!&quot;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        endResetModel();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a405875049e369b002f955403b781aa68">m_bFileloaded</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">//set loaded fiff data</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.append(t_data);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.append(MatrixXdR::Zero(t_data.rows(),t_data.cols()));</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab29443c145d819855eacb14e9a6fbcf1">m_times</a>.append(t_times);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    loadFiffInfos();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    genStdFilterOps();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    endResetModel();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a1916ecbd6d0b579bd3483e651f3e5ab8">  322</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a1916ecbd6d0b579bd3483e651f3e5ab8">RawModel::writeFiffData</a>(QFile &amp;qFile)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">//replace m_fiffInfo with the one contained in the m_pfiffIO object (for replacing bad channels)</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a>-&gt;m_qlistRaw[0]-&gt;info = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">m_fiffInfo</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a>-&gt;write_raw(qFile,0)) { ; <span class="comment">//ToDo: by now, fiff data file is completely written new -&gt; substitute only FiffInfo in old file?</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;Done saving as fiff file&quot;</span> &lt;&lt; qFile.fileName() &lt;&lt; <span class="stringliteral">&quot;...&quot;</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">//non-virtual functions</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">//private</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keywordtype">void</span> RawModel::loadFiffInfos()</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">//loads chinfos</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">for</span>(qint32 i=0; i &lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a>-&gt;m_qlistRaw[0]-&gt;info.nchan; ++i)</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>.append(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a>-&gt;m_qlistRaw[0]-&gt;info.chs[i]);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">//loads fiffInfo</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">m_fiffInfo</a> = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a>-&gt;m_qlistRaw[0]-&gt;info;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="keywordtype">void</span> RawModel::clearModel() {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">//FiffIO object</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a>.clear();</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">m_fiffInfo</a>.<a class="code" href="class_f_i_f_f_l_i_b_1_1_fiff_info.html#adc07a81c63cfb3796fde6b49bfa419d1">clear</a>();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>.clear();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">//data model structure</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.clear();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.clear();</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab29443c145d819855eacb14e9a6fbcf1">m_times</a>.clear();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">//MNEOperators</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.clear();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">//View parameters</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> = 0;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">m_iCurAbsScrollPos</a> = 0;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    m_bStartReached = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    m_bEndReached = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    qDebug(<span class="stringliteral">&quot;RawModel cleared.&quot;</span>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="keywordtype">void</span> RawModel::resetPosition(qint32 position) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    beginResetModel();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">//reset members</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.clear();</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.clear();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab29443c145d819855eacb14e9a6fbcf1">m_times</a>.clear();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    m_bStartReached = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    m_bEndReached = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    m_bReloading = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    m_bProcessing = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">//calculate multiple integer of m_iWindowSize from beginning of Fiff file (rounded down)</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    qint32 distance = position - <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a77159bb9a436ee03c7059a114ae30671">firstSample</a>();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    qint32 mult = floor(distance / <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a77159bb9a436ee03c7059a114ae30671">firstSample</a>() + mult*<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    MatrixXd t_data,t_times; <span class="comment">//type is later on (when append to m_data) casted into MatrixXdR (Row-Major)</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    m_Mutex.lock();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a>-&gt;m_qlistRaw[0]-&gt;read_raw_segment(t_data, t_times, <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a>, <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a>+m_iWindowSize-1))</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: Error resetting position of Fiff file!&quot;</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    m_Mutex.unlock();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">//append loaded block</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.append(t_data);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.append(MatrixXdR::Zero(t_data.rows(),<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>));</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab29443c145d819855eacb14e9a6fbcf1">m_times</a>.append(t_times);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5a211c6de27fab445ae9fa9411ebb749">updateOperators</a>();</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    endResetModel();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#af2f300aa109777ee1c023624ad56a806">updateScrollPos</a>(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">m_iCurAbsScrollPos</a>-<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a77159bb9a436ee03c7059a114ae30671">firstSample</a>()); <span class="comment">//little hack: if the m_iCurAbsScrollPos is now close to the edge -&gt; force reloading w/o scrolling</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: Model Position RESET, samples from &quot;</span> &lt;&lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> &lt;&lt; <span class="stringliteral">&quot;to&quot;</span> &lt;&lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a>+m_iWindowSize-1 &lt;&lt; <span class="stringliteral">&quot;reloaded.&quot;</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    emit dataChanged(createIndex(0,1),createIndex(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>.size(),1));</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">//set scrollBarPosition so that the m_iCurAbsScrollPos is not position closer that m_reloadPos to the loaded window&#39;s edge so that data is not reloaded right after this method</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    emit <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a2700d76b7cf4f06bcbf2a8f35d64550b">scrollBarValueChange</a>(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a>-<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a77159bb9a436ee03c7059a114ae30671">firstSample</a>()+m_iWindowSize/2);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="keywordtype">void</span> RawModel::reloadFiffData(<span class="keywordtype">bool</span> before) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    m_bReloadBefore = before;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">//update scroll position</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    fiff_int_t start,end;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">if</span>(before) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> -= <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        start = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        end = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a>+m_iWindowSize-1;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="comment">//check if start of fiff file is reached</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">if</span>(start == <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a77159bb9a436ee03c7059a114ae30671">firstSample</a>()) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            m_bStartReached = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: Start of fiff file reached.&quot;</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a77159bb9a436ee03c7059a114ae30671">firstSample</a>();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        start = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> + <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7ab39b592e71218b0dd3e29ed9bdfe4c">sizeOfPreloadedData</a>();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        end = start + m_iWindowSize -1;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="comment">//check if end of fiff file is reached</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">if</span>(end &gt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a4e0e97a726c6d6bcf27c526685bc98b2">lastSample</a>()) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">if</span>(m_bEndReached)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                m_bEndReached = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            end = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a4e0e97a726c6d6bcf27c526685bc98b2">lastSample</a>();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: End of fiff file reached.&quot;</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    m_bReloading = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment">//read data with respect to start and end point</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    QFuture&lt;QPair&lt;MatrixXd,MatrixXd&gt; &gt; future = QtConcurrent::run(<span class="keyword">this</span>,&amp;RawModel::readSegment,start,end);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    m_reloadFutureWatcher.setFuture(future);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;QPair&lt;MatrixXd,MatrixXd&gt; RawModel::readSegment(fiff_int_t from, fiff_int_t to) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    QPair&lt;MatrixXd,MatrixXd&gt; datatime;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    m_Mutex.lock();</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">m_pfiffIO</a>-&gt;m_qlistRaw[0]-&gt;read_raw_segment(datatime.first, datatime.second, from, to)) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        printf(<span class="stringliteral">&quot;RawModel: Error when reading raw data!&quot;</span>);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">return</span> datatime;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    m_Mutex.unlock();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span> datatime;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">//public SLOTS</span></div>
<div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#af2f300aa109777ee1c023624ad56a806">  486</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#af2f300aa109777ee1c023624ad56a806">RawModel::updateScrollPos</a>(<span class="keywordtype">int</span> value) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">m_iCurAbsScrollPos</a> = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a77159bb9a436ee03c7059a114ae30671">firstSample</a>()+value;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: absolute Fiff Scroll Cursor&quot;</span> &lt;&lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">m_iCurAbsScrollPos</a> &lt;&lt; <span class="stringliteral">&quot;(m_iAbsFiffCursor&quot;</span> &lt;&lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> &lt;&lt; <span class="stringliteral">&quot;, sizeOfPreloadedData&quot;</span> &lt;&lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7ab39b592e71218b0dd3e29ed9bdfe4c">sizeOfPreloadedData</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="comment">//if a scroll position is selected, which is not within the loaded data range -&gt; reset position of model</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">m_iCurAbsScrollPos</a> &gt; (<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a>+<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7ab39b592e71218b0dd3e29ed9bdfe4c">sizeOfPreloadedData</a>()+m_iWindowSize) || <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">m_iCurAbsScrollPos</a> &lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a>) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        resetPosition(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">m_iCurAbsScrollPos</a>);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">//reload data if end of loaded range is reached</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">//front</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">if</span>(!m_bReloading &amp;&amp; (<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">m_iCurAbsScrollPos</a>-<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> &lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e2ce448f1f46d7bed3167b559dc6951">m_reloadPos</a>) &amp;&amp; !m_bStartReached) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: Reload requested at FRONT of loaded fiff data, m_iAbsFiffCursor:&quot;</span> &lt;&lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> &lt;&lt; <span class="stringliteral">&quot;m_iCurAbsScrollPos:&quot;</span> &lt;&lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">m_iCurAbsScrollPos</a>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        reloadFiffData(1);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">//end</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!m_bReloading &amp;&amp; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">m_iCurAbsScrollPos</a> &gt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a>+<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7ab39b592e71218b0dd3e29ed9bdfe4c">sizeOfPreloadedData</a>()-<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e2ce448f1f46d7bed3167b559dc6951">m_reloadPos</a> &amp;&amp; !m_bEndReached) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: Reload requested at END of loaded fiff data, m_iAbsFiffCursor:&quot;</span> &lt;&lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> &lt;&lt; <span class="stringliteral">&quot;m_iCurAbsScrollPos:&quot;</span> &lt;&lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">m_iCurAbsScrollPos</a>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        reloadFiffData(0);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac1059d1508a0cea81ab8a0d35dcd411b">  512</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac1059d1508a0cea81ab8a0d35dcd411b">RawModel::markChBad</a>(QModelIndexList chlist, <span class="keywordtype">bool</span> status)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;{</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">for</span>(qint8 i=0; i &lt; chlist.size(); ++i) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">if</span>(status) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">m_fiffInfo</a>.<a class="code" href="class_f_i_f_f_l_i_b_1_1_fiff_info_base.html#abb2b7b298afe7439c1012962c2a8c43c">bads</a>.contains(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>[chlist[i].row()].ch_name))</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">m_fiffInfo</a>.<a class="code" href="class_f_i_f_f_l_i_b_1_1_fiff_info_base.html#abb2b7b298afe7439c1012962c2a8c43c">bads</a>.append(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>[chlist[i].row()].ch_name);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel:&quot;</span> &lt;&lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>[chlist[i].row()].ch_name &lt;&lt; <span class="stringliteral">&quot;marked as bad.&quot;</span>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">m_fiffInfo</a>.<a class="code" href="class_f_i_f_f_l_i_b_1_1_fiff_info_base.html#abb2b7b298afe7439c1012962c2a8c43c">bads</a>.contains(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>[chlist[i].row()].ch_name)) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <span class="keywordtype">int</span> index = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">m_fiffInfo</a>.<a class="code" href="class_f_i_f_f_l_i_b_1_1_fiff_info_base.html#abb2b7b298afe7439c1012962c2a8c43c">bads</a>.indexOf(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>[chlist[i].row()].ch_name);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">m_fiffInfo</a>.<a class="code" href="class_f_i_f_f_l_i_b_1_1_fiff_info_base.html#abb2b7b298afe7439c1012962c2a8c43c">bads</a>.removeAt(index);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel:&quot;</span> &lt;&lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>[chlist[i].row()].ch_name &lt;&lt; <span class="stringliteral">&quot;marked as good.&quot;</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        emit dataChanged(chlist[i],chlist[i]);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab04bb6ec87936a72c14c083e375ef006">  535</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab04bb6ec87936a72c14c083e375ef006">RawModel::applyOperator</a>(QModelIndex chan, <span class="keyword">const</span> QSharedPointer&lt;MNEOperator&gt;&amp; operatorPtr, <span class="keywordtype">bool</span> reset)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;{</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">//cast to QSharedPointer&lt;FilterOperator&gt;</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    QSharedPointer&lt;FilterOperator&gt; filter;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span>(operatorPtr-&gt;m_OperatorType==MNEOperator::FILTER)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        filter = operatorPtr.staticCast&lt;<a class="code" href="class_m_n_e_browse_raw_qt_1_1_filter_operator.html">FilterOperator</a>&gt;();</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">//iterate through m_data list in order to filter them all, ToDo: do not filter already filtered blocks -&gt; check it somehow</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">for</span>(qint8 j=0; j &lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.size(); ++j) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        RowVectorXd tmp;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.contains(chan.row()) || reset)</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            tmp = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>[j].row(chan.row());</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            tmp = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>[j].row(chan.row());</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>[j].row(chan.row()) = filter-&gt;applyFFTFilter(tmp);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">//adds filtered channel to m_assignedOperators</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.values(chan.row()).contains(operatorPtr)) <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.insertMulti(chan.row(),operatorPtr);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: Filter&quot;</span> &lt;&lt; filter-&gt;m_sName &lt;&lt; <span class="stringliteral">&quot;applied to channel#&quot;</span> &lt;&lt; chan.row();</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    emit dataChanged(chan,chan);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;}</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a59b116a066d50dfcf6ff2bdc88908904">  564</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab04bb6ec87936a72c14c083e375ef006">RawModel::applyOperator</a>(QModelIndexList chlist, <span class="keyword">const</span> QSharedPointer&lt;MNEOperator&gt;&amp; operatorPtr, <span class="keywordtype">bool</span> reset)</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;{</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">//filter all when chlist is empty</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span>(chlist.empty()) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">for</span>(qint32 i=0; i &lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>.size(); ++i)</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            chlist.append(createIndex(i,1));</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">for</span>(qint32 i=0; i &lt; chlist.size(); ++i) { <span class="comment">//iterate through selected channels to filter</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab04bb6ec87936a72c14c083e375ef006">applyOperator</a>(chlist[i],operatorPtr,reset);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: using FilterType&quot;</span> &lt;&lt; operatorPtr-&gt;m_sName;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;}</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab97069d81ba809cd5c5b943034b09278">  582</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab97069d81ba809cd5c5b943034b09278">RawModel::applyOperatorsConcurrently</a>(QPair&lt;int,RowVectorXd&gt;&amp; chdata)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;{</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    QMutableMapIterator&lt;int,QSharedPointer&lt;MNEOperator&gt; &gt; it(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    QSharedPointer&lt;FilterOperator&gt; filter;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    QList&lt;int&gt; listFilteredChs = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.keys();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    QList&lt;QSharedPointer&lt;MNEOperator&gt; &gt; ops = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.values(chdata.first);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">for</span>(qint32 i=0; i &lt; ops.size(); ++i) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">switch</span>(ops[i]-&gt;m_OperatorType) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">case</span> MNEOperator::FILTER: {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            filter = ops[i].staticCast&lt;<a class="code" href="class_m_n_e_browse_raw_qt_1_1_filter_operator.html">FilterOperator</a>&gt;();</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            chdata.second = filter-&gt;applyFFTFilter(chdata.second);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">case</span> MNEOperator::PCA: {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            <span class="comment">//do something</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">case</span> MNEOperator::AVERAGE: {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="comment">//do something</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">//    return chdata;</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;}</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac2712820e08b9a418031997d8293a68f">  611</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5a211c6de27fab445ae9fa9411ebb749">RawModel::updateOperators</a>(QModelIndex chan) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">for</span>(qint32 i=0; i &lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.values(chan.row()).size(); ++i)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab04bb6ec87936a72c14c083e375ef006">applyOperator</a>(chan,<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.values(chan.row())[i],<span class="keyword">true</span>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a49904ce5f881b0ad4430d7bcfa264b86">  619</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5a211c6de27fab445ae9fa9411ebb749">RawModel::updateOperators</a>(QModelIndexList chlist) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span>(chlist.empty())</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">for</span>(qint32 i=0; i &lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>.size(); ++i)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            chlist.append(createIndex(i,1));</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">for</span>(qint32 i=0; i &lt; chlist.size(); ++i) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.contains(chlist[i].row()))</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <span class="keywordflow">for</span>(qint32 j=0; j &lt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.values(chlist[i].row()).size(); ++j)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab04bb6ec87936a72c14c083e375ef006">applyOperator</a>(chlist[i],<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.values(chlist[i].row())[j],<span class="keyword">true</span>);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5a211c6de27fab445ae9fa9411ebb749">  634</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5a211c6de27fab445ae9fa9411ebb749">RawModel::updateOperators</a>() {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5a211c6de27fab445ae9fa9411ebb749">updateOperators</a>(QModelIndexList());</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a2da4e091091ceb4df443b23b99db996a">  641</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab8b96131e4b89b69ed8d4e01a0853021">RawModel::undoFilter</a>(QModelIndexList chlist, <span class="keyword">const</span> QSharedPointer&lt;MNEOperator&gt; &amp;filterPtr)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;{</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">for</span>(qint32 i=0; i &lt; chlist.size(); ++i) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.contains(chlist[i].row()) &amp;&amp; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.values(chlist[i].row()).contains(filterPtr)) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            QMutableMapIterator&lt;int,QSharedPointer&lt;MNEOperator&gt; &gt; it(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="keywordflow">while</span>(it.hasNext()) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                it.next();</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <span class="keywordflow">if</span>(it.key()==chlist[i].row() &amp;&amp; it.value()==filterPtr) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                    it.remove();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: Filter operator removed of type&quot;</span> &lt;&lt; filterPtr-&gt;m_sName &lt;&lt; <span class="stringliteral">&quot;for channel&quot;</span> &lt;&lt; chlist[i].row();</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5a211c6de27fab445ae9fa9411ebb749">updateOperators</a>(chlist[i]);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: No filter of type&quot;</span> &lt;&lt; filterPtr-&gt;m_sName &lt;&lt; <span class="stringliteral">&quot;applied to channel&quot;</span> &lt;&lt; chlist[i].row();</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div>
<div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a4698086faff860451fe2eabe67c04a0e">  667</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab8b96131e4b89b69ed8d4e01a0853021">RawModel::undoFilter</a>(QModelIndexList chlist)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;{</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">for</span>(qint32 i=0; i &lt; chlist.size(); ++i) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.remove(chlist[i].row());</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: All filter operator removed of type for channel&quot;</span> &lt;&lt; chlist[i].row();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;}</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div>
<div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab8b96131e4b89b69ed8d4e01a0853021">  678</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab8b96131e4b89b69ed8d4e01a0853021">RawModel::undoFilter</a>()</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;{</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.clear();</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;}</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">//private SLOTS</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="keywordtype">void</span> RawModel::insertReloadedData(QPair&lt;MatrixXd,MatrixXd&gt; dataTimesPair) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="comment">//extend m_data with reloaded data</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">if</span>(m_bReloadBefore) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.prepend(dataTimesPair.first);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.prepend(MatrixXdR::Zero(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>.size(),<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>));</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab29443c145d819855eacb14e9a6fbcf1">m_times</a>.prepend(dataTimesPair.second);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="comment">//maintain at maximum m_maxWindows data windows and drop the rest</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.size() &gt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ae107e98a69a7ed1c597f9098c5cc5f3c">m_maxWindows</a>) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.removeLast();</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.removeLast();</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.append(dataTimesPair.first);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.append(MatrixXdR::Zero(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>.size(),<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>));</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab29443c145d819855eacb14e9a6fbcf1">m_times</a>.append(dataTimesPair.second);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="comment">//maintain at maximum m_maxWindows data windows and drop the rest</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.size() &gt; <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ae107e98a69a7ed1c597f9098c5cc5f3c">m_maxWindows</a>) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.removeFirst();</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.removeFirst();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">m_iAbsFiffCursor</a> += <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">m_iWindowSize</a>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    m_bReloading = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    emit dataChanged(createIndex(0,1),createIndex(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>.size(),1));</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    emit <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a09c224bbafd12914b5acf2842462a08f">dataReloaded</a>();</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: Fiff data REloaded from &quot;</span> &lt;&lt; dataTimesPair.second.coeff(0) &lt;&lt; <span class="stringliteral">&quot;secs to&quot;</span> &lt;&lt; dataTimesPair.second.coeff(dataTimesPair.second.cols()-1) &lt;&lt; <span class="stringliteral">&quot;secs&quot;</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="keywordtype">void</span> RawModel::updateOperatorsConcurrently()</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;{</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    m_bProcessing = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    QList&lt;int&gt; listFilteredChs = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.keys();</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    m_listTmpChData.clear();</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">for</span>(qint32 i=0; i &lt; listFilteredChs.size(); ++i) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">if</span>(m_bReloadBefore)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            m_listTmpChData.append(QPair&lt;int,RowVectorXd&gt;(listFilteredChs[i],<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.first().row(listFilteredChs[i])));</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            m_listTmpChData.append(QPair&lt;int,RowVectorXd&gt;(listFilteredChs[i],<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">m_data</a>.last().row(listFilteredChs[i])));</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: Starting of concurrent PROCESSING operation of&quot;</span> &lt;&lt; listFilteredChs.size() &lt;&lt; <span class="stringliteral">&quot;items&quot;</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">//************* here it could be also performed QtConcurrent::mapped() *************</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="comment">// advantage: QFutureWatcher would give partial results -&gt; signal resultsReadyAt(int idx)</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">// disadvantage: data needs to be copied twice (also to QFuture&lt;QPair&lt;int,RowVectorXd&gt; &gt; object) instead of once (to m_listTmpChData)</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">//generate lambda function</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">//    std::function&lt;QPair&lt;int,RowVectorXd&gt; (QPair&lt;int,RowVectorXd&gt;&amp;)&gt; applyOps = [this](QPair&lt;int,RowVectorXd&gt;&amp; chdata) -&gt; QPair&lt;int,RowVectorXd&gt; {</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">//        return applyOperatorsConcurrently(chdata);</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">//    };</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">//    QFuture&lt;QPair&lt;int,RowVectorXd&gt; &gt; future = QtConcurrent::mapped(m_listTmpChData.begin(),m_listTmpChData.end(),applyOps);</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">//**************************************************************************************************************************************************************************</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    QFuture&lt;void &gt; future = QtConcurrent::map(m_listTmpChData,[<span class="keyword">this</span>](QPair&lt;int,RowVectorXd&gt;&amp; chdata) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab97069d81ba809cd5c5b943034b09278">applyOperatorsConcurrently</a>(chdata);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    });</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    m_operatorFutureWatcher.setFuture(future);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: operatorFutureWatcher on!&quot;</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="keywordtype">void</span> RawModel::insertProcessedData(<span class="keywordtype">int</span> index)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;{</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    QList&lt;int&gt; listFilteredChs = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.keys();</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">if</span>(m_bReloadBefore)</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.first().row(listFilteredChs[index]) = m_listTmpChData[index].second;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.last().row(listFilteredChs[index]) = m_listTmpChData[index].second;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    emit dataChanged(createIndex(listFilteredChs[index],1),createIndex(listFilteredChs[index],1));</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">if</span>(index==listFilteredChs.last()) m_bProcessing = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">//*************************************************************************************************************</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="keywordtype">void</span> RawModel::insertProcessedData()</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;{</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    QList&lt;int&gt; listFilteredChs = <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">m_assignedOperators</a>.keys();</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">for</span>(qint32 i=0; i &lt; listFilteredChs.size(); ++i) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <span class="keywordflow">if</span>(m_bReloadBefore)</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.first().row(listFilteredChs[i]) = m_listTmpChData[i].second;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            <a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">m_procData</a>.last().row(listFilteredChs[i]) = m_listTmpChData[i].second;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    emit dataChanged(createIndex(0,1),createIndex(<a class="code" href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">m_chInfolist</a>.size(),1));</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    qDebug() &lt;&lt; <span class="stringliteral">&quot;RawModel: Finished concurrently processing&quot;</span> &lt;&lt; listFilteredChs.size() &lt;&lt; <span class="stringliteral">&quot;channels.&quot;</span>;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    m_bProcessing = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a8e3568868c449532c1357967314dd919"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8e3568868c449532c1357967314dd919">MNEBrowseRawQt::RawModel::m_pfiffIO</a></div><div class="ttdeci">QSharedPointer&lt; FiffIO &gt; m_pfiffIO</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00195">rawmodel.h:195</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a34f820d3ea0b3a64fc811c0950ab2c95"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a34f820d3ea0b3a64fc811c0950ab2c95">MNEBrowseRawQt::RawModel::m_data</a></div><div class="ttdeci">QList&lt; MatrixXdR &gt; m_data</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00173">rawmodel.h:173</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a5b8678608f453f20e94fcfda747387ff"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5b8678608f453f20e94fcfda747387ff">MNEBrowseRawQt::RawModel::m_chInfolist</a></div><div class="ttdeci">QList&lt; FiffChInfo &gt; m_chInfolist</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00177">rawmodel.h:177</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_af2f300aa109777ee1c023624ad56a806"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#af2f300aa109777ee1c023624ad56a806">MNEBrowseRawQt::RawModel::updateScrollPos</a></div><div class="ttdeci">void updateScrollPos(int value)</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8cpp_source.html#l00486">rawmodel.cpp:486</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_ab97069d81ba809cd5c5b943034b09278"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab97069d81ba809cd5c5b943034b09278">MNEBrowseRawQt::RawModel::applyOperatorsConcurrently</a></div><div class="ttdeci">void applyOperatorsConcurrently(QPair&lt; int, RowVectorXd &gt; &amp;chdata)</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8cpp_source.html#l00582">rawmodel.cpp:582</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a6fc0658eedbf94352c8e418d0777a6c5"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a6fc0658eedbf94352c8e418d0777a6c5">MNEBrowseRawQt::RawModel::m_iFilterTaps</a></div><div class="ttdeci">qint16 m_iFilterTaps</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00193">rawmodel.h:193</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a2700d76b7cf4f06bcbf2a8f35d64550b"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a2700d76b7cf4f06bcbf2a8f35d64550b">MNEBrowseRawQt::RawModel::scrollBarValueChange</a></div><div class="ttdeci">void scrollBarValueChange(int pos)</div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_ab04bb6ec87936a72c14c083e375ef006"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab04bb6ec87936a72c14c083e375ef006">MNEBrowseRawQt::RawModel::applyOperator</a></div><div class="ttdeci">void applyOperator(QModelIndex chan, const QSharedPointer&lt; MNEOperator &gt; &amp;operatorPtr, bool reset=false)</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8cpp_source.html#l00535">rawmodel.cpp:535</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_ac31fb8c28015a797edf468ce22c97b84"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac31fb8c28015a797edf468ce22c97b84">MNEBrowseRawQt::RawModel::m_iCurAbsScrollPos</a></div><div class="ttdeci">qint32 m_iCurAbsScrollPos</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00188">rawmodel.h:188</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a149e69f97a75e12cd32f405d9d6bd2e4"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a149e69f97a75e12cd32f405d9d6bd2e4">MNEBrowseRawQt::RawModel::m_iAbsFiffCursor</a></div><div class="ttdeci">qint32 m_iAbsFiffCursor</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00187">rawmodel.h:187</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a09c224bbafd12914b5acf2842462a08f"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a09c224bbafd12914b5acf2842462a08f">MNEBrowseRawQt::RawModel::dataReloaded</a></div><div class="ttdeci">void dataReloaded()</div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_ac1059d1508a0cea81ab8a0d35dcd411b"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ac1059d1508a0cea81ab8a0d35dcd411b">MNEBrowseRawQt::RawModel::markChBad</a></div><div class="ttdeci">void markChBad(QModelIndexList chlist, bool status)</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8cpp_source.html#l00512">rawmodel.cpp:512</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a08da0e94d983b510cec0eaff994ba955"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a08da0e94d983b510cec0eaff994ba955">MNEBrowseRawQt::RawModel::loadFiffData</a></div><div class="ttdeci">bool loadFiffData(QFile &amp;qFile)</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8cpp_source.html#l00285">rawmodel.cpp:285</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a1e4833f1c224c28552ab1ae262094b37"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a1e4833f1c224c28552ab1ae262094b37">MNEBrowseRawQt::RawModel::m_Operators</a></div><div class="ttdeci">QMap&lt; QString, QSharedPointer&lt; MNEOperator &gt; &gt; m_Operators</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00181">rawmodel.h:181</a></div></div>
<div class="ttc" id="rawmodel_8h_html"><div class="ttname"><a href="rawmodel_8h.html">rawmodel.h</a></div><div class="ttdoc">This class represents the model of the model/view framework of mne_browse_raw_qt application. It is derived from QAbstractTableModel so the virtual functions rowCount(),columnCount() and data() needed to be reimplemented. The delegate requests the data for any individual table cell by invoking data(QModelIndex index, int role) and a certain role. DisplayRole is the standard role for requesting the plain data. Other roles such as BackgroundRole are requested to fill a cell with a certain background color with respect to the individual index. For further information see [1]. </div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_ab29443c145d819855eacb14e9a6fbcf1"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab29443c145d819855eacb14e9a6fbcf1">MNEBrowseRawQt::RawModel::m_times</a></div><div class="ttdeci">QList&lt; MatrixXdR &gt; m_times</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00175">rawmodel.h:175</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a7e629f2ed1a8b6147621ca0442f7ccab"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e629f2ed1a8b6147621ca0442f7ccab">MNEBrowseRawQt::RawModel::m_fiffInfo</a></div><div class="ttdeci">FiffInfo m_fiffInfo</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00178">rawmodel.h:178</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_ab4b40fc9594f83bb5b069ecf7249da77"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab4b40fc9594f83bb5b069ecf7249da77">MNEBrowseRawQt::RawModel::m_assignedOperators</a></div><div class="ttdeci">QMap&lt; int, QSharedPointer&lt; MNEOperator &gt; &gt; m_assignedOperators</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00182">rawmodel.h:182</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a081c26245dc32865ccb15e6b9433f6f1"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a081c26245dc32865ccb15e6b9433f6f1">MNEBrowseRawQt::RawModel::m_iWindowSize</a></div><div class="ttdeci">qint32 m_iWindowSize</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00190">rawmodel.h:190</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a7e2ce448f1f46d7bed3167b559dc6951"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7e2ce448f1f46d7bed3167b559dc6951">MNEBrowseRawQt::RawModel::m_reloadPos</a></div><div class="ttdeci">qint32 m_reloadPos</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00191">rawmodel.h:191</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_filter_operator_html"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_filter_operator.html">MNEBrowseRawQt::FilterOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="filteroperator_8h_source.html#l00106">filteroperator.h:106</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a405875049e369b002f955403b781aa68"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a405875049e369b002f955403b781aa68">MNEBrowseRawQt::RawModel::m_bFileloaded</a></div><div class="ttdeci">bool m_bFileloaded</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00170">rawmodel.h:170</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a77159bb9a436ee03c7059a114ae30671"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a77159bb9a436ee03c7059a114ae30671">MNEBrowseRawQt::RawModel::firstSample</a></div><div class="ttdeci">qint32 firstSample() const </div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00445">rawmodel.h:445</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a8fdb935a1c8025cb43284f1b965bff23"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a8fdb935a1c8025cb43284f1b965bff23">MNEBrowseRawQt::RawModel::m_procData</a></div><div class="ttdeci">QList&lt; MatrixXdR &gt; m_procData</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00174">rawmodel.h:174</a></div></div>
<div class="ttc" id="class_f_i_f_f_l_i_b_1_1_fiff_info_base_html_abb2b7b298afe7439c1012962c2a8c43c"><div class="ttname"><a href="class_f_i_f_f_l_i_b_1_1_fiff_info_base.html#abb2b7b298afe7439c1012962c2a8c43c">FIFFLIB::FiffInfoBase::bads</a></div><div class="ttdeci">QStringList bads</div><div class="ttdef"><b>Definition:</b> <a href="fiff__info__base_8h_source.html#l00204">fiff_info_base.h:204</a></div></div>
<div class="ttc" id="class_f_i_f_f_l_i_b_1_1_fiff_i_o_html"><div class="ttname"><a href="class_f_i_f_f_l_i_b_1_1_fiff_i_o.html">FIFFLIB::FiffIO</a></div><div class="ttdef"><b>Definition:</b> <a href="fiff__io_8h_source.html#l00081">fiff_io.h:81</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_ae107e98a69a7ed1c597f9098c5cc5f3c"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ae107e98a69a7ed1c597f9098c5cc5f3c">MNEBrowseRawQt::RawModel::m_maxWindows</a></div><div class="ttdeci">qint8 m_maxWindows</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00192">rawmodel.h:192</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a5a211c6de27fab445ae9fa9411ebb749"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a5a211c6de27fab445ae9fa9411ebb749">MNEBrowseRawQt::RawModel::updateOperators</a></div><div class="ttdeci">void updateOperators()</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8cpp_source.html#l00634">rawmodel.cpp:634</a></div></div>
<div class="ttc" id="class_f_i_f_f_l_i_b_1_1_fiff_info_html_adc07a81c63cfb3796fde6b49bfa419d1"><div class="ttname"><a href="class_f_i_f_f_l_i_b_1_1_fiff_info.html#adc07a81c63cfb3796fde6b49bfa419d1">FIFFLIB::FiffInfo::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="fiff__info_8cpp_source.html#l00108">fiff_info.cpp:108</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_ab8b96131e4b89b69ed8d4e01a0853021"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#ab8b96131e4b89b69ed8d4e01a0853021">MNEBrowseRawQt::RawModel::undoFilter</a></div><div class="ttdeci">void undoFilter()</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8cpp_source.html#l00678">rawmodel.cpp:678</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a1916ecbd6d0b579bd3483e651f3e5ab8"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a1916ecbd6d0b579bd3483e651f3e5ab8">MNEBrowseRawQt::RawModel::writeFiffData</a></div><div class="ttdeci">bool writeFiffData(QFile &amp;qFile)</div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8cpp_source.html#l00322">rawmodel.cpp:322</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a7ab39b592e71218b0dd3e29ed9bdfe4c"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a7ab39b592e71218b0dd3e29ed9bdfe4c">MNEBrowseRawQt::RawModel::sizeOfPreloadedData</a></div><div class="ttdeci">qint32 sizeOfPreloadedData() const </div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00463">rawmodel.h:463</a></div></div>
<div class="ttc" id="class_m_n_e_browse_raw_qt_1_1_raw_model_html_a4e0e97a726c6d6bcf27c526685bc98b2"><div class="ttname"><a href="class_m_n_e_browse_raw_qt_1_1_raw_model.html#a4e0e97a726c6d6bcf27c526685bc98b2">MNEBrowseRawQt::RawModel::lastSample</a></div><div class="ttdeci">qint32 lastSample() const </div><div class="ttdef"><b>Definition:</b> <a href="rawmodel_8h_source.html#l00454">rawmodel.h:454</a></div></div>
<div class="ttc" id="class_f_i_f_f_l_i_b_1_1_fiff_info_html_a963c80bf73b01ed07eb1a31540cf308c"><div class="ttname"><a href="class_f_i_f_f_l_i_b_1_1_fiff_info.html#a963c80bf73b01ed07eb1a31540cf308c">FIFFLIB::FiffInfo::sfreq</a></div><div class="ttdeci">float sfreq</div><div class="ttdef"><b>Definition:</b> <a href="fiff__info_8h_source.html#l00260">fiff_info.h:260</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 14 2014 23:18:16 for MNE-CPP by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
